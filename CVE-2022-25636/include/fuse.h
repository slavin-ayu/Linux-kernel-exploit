#pragma once

#define _FILE_OFFSET_BITS 64
#define FUSE_USE_VERSION 34

#include <libfuse/fuse.h>

#define MNT_PATH "/tmp/foo"

extern char *fuse_argv[];
extern int fuse_argc;
extern struct fuse_operations fuse_ops;
extern int fuse_fd;

int get_attr(const char *path, struct stat* stbuf, struct fuse_file_info *fi);
int read_dir(const char *path, void *buf, fuse_fill_dir_t filler, off_t offset,
             struct fuse_file_info *fi, enum fuse_readdir_flags flags);
int evil_read(const char *path, char *buf, size_t size,
              off_t offset, struct fuse_file_info *fi);