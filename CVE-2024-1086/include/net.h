#pragma once

static void sendto_noconn(struct sockaddr_in *addr, const char* buf, size_t buflen, int sockfd);
static uint32_t ip_checksum(void *buffer, unsigned int count, uint32_t startsum);
static inline uint32_t ip_finish_sum(uint32_t sum);
void send_ipv4_ip_hdr(const char* buf, size_t buflen, struct ip *ip_header);
void send_ipv4_udp(const char* buf, size_t buflen);
void send_ipv4_tcp(const char* buf, size_t buflen);
void recv_ipv4_udp(int content_len);
void recv_ipv4_tcp();
int get_udp_server_sockfd(short port);
int get_tcp_server_sockfd(short port);
void populate_sockets();